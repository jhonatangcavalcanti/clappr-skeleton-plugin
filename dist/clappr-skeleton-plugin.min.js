!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t(require("@clappr/core")):"function"==typeof define&&define.amd?define(["@clappr/core"],t):(e=e||self).SkeletonPlugin=t(e.Clappr)}(this,(function(e){"use strict";function t(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function n(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}function i(e){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function r(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(e,t,n){return(c="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var o=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=i(e)););return e}(e,t);if(o){var r=Object.getOwnPropertyDescriptor(o,t);return r.get?r.get.call(n):r.value}})(e,t,n||e)}var s=".skeleton-container {\n  position: absolute;\n  height: 5%;\n  width: 20%;\n  z-index: 999;\n  background-color: black;\n  color: white;\n  line-height: 1.15 !important; }\n";!function(e,t){void 0===t&&(t={});var n=t.insertAt;if(e&&"undefined"!=typeof document){var i=document.head||document.getElementsByTagName("head")[0],o=document.createElement("style");o.type="text/css","top"===n&&i.firstChild?i.insertBefore(o,i.firstChild):i.appendChild(o),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(document.createTextNode(e))}}(s);return function(t){function l(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,l),(t=r(this,i(l).call(this,e))).init(),t}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(l,t),n(l,[{key:"name",get:function(){return"skeleton"}},{key:"supportedVersion",get:function(){return{min:e.version}}},{key:"attributes",get:function(){return{class:"skeleton"}}},{key:"template",get:function(){return e.template('<p class="skeleton-container"> Skeleton Plugin</p>\n')}},{key:"events",get:function(){return{click:"onClick"}}}]),n(l,[{key:"init",value:function(){this.bindEvents()}},{key:"bindEvents",value:function(){var t=this,n=[{object:this.core,event:e.Events.CORE_ACTIVE_CONTAINER_CHANGED,callback:this.onContainerChanged},{object:this.core,event:e.Events.CORE_RESIZE,callback:this.registerPlayerResize}];n.forEach((function(e){return t.stopListening(e.object,e.event,e.callback)})),n.forEach((function(e){return t.listenTo(e.object,e.event,e.callback)}))}},{key:"bindContainerEvents",value:function(){var t=this,n=[{object:this.container,event:e.Events.CONTAINER_CLICK,callback:this.hide}];this.container&&n.forEach((function(e){return t.listenTo(e.object,e.event,e.callback)}))}},{key:"registerPlayerResize",value:function(e){e.width&&"number"==typeof e.width&&(this.playerSize=e)}},{key:"onContainerChanged",value:function(){this.container&&this.stopListening(this.container),this.container=this.core.activeContainer,this.bindContainerEvents()}},{key:"destroy",value:function(){this.isRendered=!1,c(i(l.prototype),"destroy",this).call(this)}},{key:"onClick",value:function(){console.log("Skeleton plugin clicked!")}},{key:"show",value:function(){this.$el.show()}},{key:"hide",value:function(){this.$el.hide()}},{key:"cacheElements",value:function(){this.$container=this.$el.find(".skeleton-container")}},{key:"render",value:function(){if(!this.isRendered)return this.$el.html(this.template({options:this.options})),this.$el.append(e.Styler.getStyleFor(s)),this.core.$el[0].append(this.$el[0]),this.cacheElements(),this.isRendered=!0,this}}]),l}(e.UICorePlugin)}));
